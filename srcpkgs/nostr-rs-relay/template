# Template file for 'nostr-rs-relay'
pkgname=nostr-rs-relay
version=0.8.12
revision=1
build_style=cargo
hostmakedepends="pkg-config protobuf"
makedepends="openssl-devel"
short_desc="Nostr relay"
maintainer="Petr Cizmar <xxb0322@xpc.ovh>"
license="MIT"
homepage="https://git.sr.ht/~gheartsfield/nostr-rs-relay"
changelog="https://git.sr.ht/~gheartsfield/nostr-rs-relay/refs"
distfiles="https://git.sr.ht/~gheartsfield/nostr-rs-relay/archive/${version}.tar.gz"
checksum=1f174a7fa341117b75eac999dc445e60d192ec54b050c371ca34cb7ad0638b80
system_accounts="_nostrrsrelay"
system_groups="_nostrrsrelay"
make_dirs="/var/db/nostr-rs-relay/ 0750 _nostrrsrelay _nostrrsrelay"

post_install() {
	vlicense "LICENSE"
	vconf config.toml nostr-rs-relay.toml
	vsv nostr-rs-relay
}
